{"version":3,"file":"MsgWidget.js","sources":["components/MsgWidget.vue","/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/components/MsgWidget.vue?type=component"],"sourcesContent":["<template>\n\t<view :class=\"['widget-bubble', from === 'me' ? 'from-me' : 'from-bot']\">\n\t\t<view class=\"widget-body\">\n\t\t\t<MusicPlayerWidget\n\t\t\t\tv-if=\"type === 'music_player'\"\n\t\t\t\t:widget=\"widget\"\n\t\t\t\t@action=\"forwardAction\"\n\t\t\t/>\n\t\t\t<FormPreviewWidget\n\t\t\t\tv-else-if=\"type === 'form_preview'\"\n\t\t\t\t:widget=\"widget\"\n\t\t\t\t@action=\"forwardAction\"\n\t\t\t/>\n\t\t\t<WebViewWidget\n\t\t\t\tv-else-if=\"type === 'webview'\"\n\t\t\t\t:widget=\"widget\"\n\t\t\t/>\n\t\t\t<view v-else class=\"widget-unknown\">\n\t\t\t\t<text class=\"widget-title\">{{ widget?.title || '未知组件' }}</text>\n\t\t\t\t<text class=\"widget-hint\">暂不支持渲染此类型（{{ widget?.type || 'unknown' }}）</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { computed, watch } from 'vue'\nimport MusicPlayerWidget from './widgets/MusicPlayerWidget.vue'\nimport FormPreviewWidget from './widgets/FormPreviewWidget.vue'\nimport WebViewWidget from './widgets/WebViewWidget.vue'\n\nconst props = defineProps({\n\twidget: {\n\t\ttype: Object,\n\t\tdefault: () => ({})\n\t},\n\tfrom: {\n\t\ttype: String,\n\t\tdefault: 'bot'\n\t}\n})\n\nconst emit = defineEmits(['action'])\n\nconst type = computed(() => (props.widget?.type || '').toLowerCase())\n\nwatch(\n\t() => props.widget,\n\t(val) => {\n\t\tconsole.log('[MsgWidget] render widget =>', val?.type, val)\n\t},\n\t{ immediate: true, deep: true }\n)\n\nfunction forwardAction(action) {\n\temit('action', action)\n}\n</script>\n\n<style scoped>\n.widget-bubble {\n\tmax-width: 90%;\n\tmargin: 8px 0;\n\tdisplay: flex;\n}\n\n.widget-bubble.from-me {\n\tjustify-content: flex-end;\n}\n\n.widget-bubble.from-bot {\n\tjustify-content: flex-start;\n}\n\n.widget-body {\n\twidth: 520rpx;\n\tmax-width: 620rpx;\n\tpadding: 16rpx;\n\tborder-radius: 16rpx;\n\tbackground-color: #ffffff;\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n}\n\n.from-me .widget-body {\n\tbackground-color: #4b7bec;\n\tcolor: #ffffff;\n}\n\n.widget-unknown {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8rpx;\n}\n\n.widget-title {\n\tfont-weight: 600;\n\tfont-size: 28rpx;\n}\n\n.widget-hint {\n\tfont-size: 24rpx;\n\topacity: 0.85;\n}\n</style>\n","import Component from '/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/components/MsgWidget.vue'\nwx.createComponent(Component)"],"names":["computed","watch","uni"],"mappings":";;;;;AA2BA,MAAM,oBAAoB,MAAW;AACrC,MAAM,oBAAoB,MAAW;AACrC,MAAM,gBAAgB,MAAW;;;;;;;;;;;;;;;AAEjC,UAAM,QAAQ;AAWd,UAAM,OAAO;AAEb,UAAM,OAAOA,cAAAA,SAAS,MAAA;;AAAO,2BAAM,WAAN,mBAAc,SAAQ,IAAI;KAAa;AAEpEC,kBAAK;AAAA,MACJ,MAAM,MAAM;AAAA,MACZ,CAAC,QAAQ;AACRC,2EAAY,gCAAgC,2BAAK,MAAM,GAAG;AAAA,MAC1D;AAAA,MACD,EAAE,WAAW,MAAM,MAAM,KAAM;AAAA,IAChC;AAEA,aAAS,cAAc,QAAQ;AAC9B,WAAK,UAAU,MAAM;AAAA,IACtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDA,GAAG,gBAAgB,SAAS;"}