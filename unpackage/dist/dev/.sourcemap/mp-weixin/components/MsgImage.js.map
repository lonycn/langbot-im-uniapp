{"version":3,"file":"MsgImage.js","sources":["components/MsgImage.vue","/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/components/MsgImage.vue?type=component"],"sourcesContent":["<template>\n\t<view :class=\"['image-wrapper', from === 'me' ? 'from-me' : 'from-bot']\">\n\t\t<image class=\"image\" :src=\"source\" mode=\"aspectFit\" @click=\"preview\"></image>\n\t</view>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n\timage: {\n\t\ttype: Object,\n\t\tdefault: () => ({})\n\t},\n\tfrom: {\n\t\ttype: String,\n\t\tdefault: 'bot'\n\t}\n})\n\nconst source = computed(() => {\n\tconst { url, base64, path } = props.image || {}\n\tif (base64) {\n\t\treturn base64.startsWith('data:') ? base64 : `data:image/png;base64,${base64}`\n\t}\n\tif (url) return url\n\tif (path) return path\n\treturn ''\n})\n\nfunction preview() {\n\tif (!source.value) return\n\tuni.previewImage({\n\t\tcurrent: source.value,\n\t\turls: [source.value]\n\t})\n}\n</script>\n\n<style scoped>\n.image-wrapper {\n\tmargin: 8px 0;\n\tmax-width: 70%;\n}\n\n.image-wrapper.from-me {\n\talign-self: flex-end;\n}\n\n.image-wrapper.from-bot {\n\talign-self: flex-start;\n}\n\n.image {\n\twidth: 240rpx;\n\theight: 240rpx;\n\tborder-radius: 12rpx;\n\tbackground-color: #f2f2f2;\n}\n</style>\n","import Component from '/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/components/MsgImage.vue'\nwx.createComponent(Component)"],"names":["computed","uni"],"mappings":";;;;;;;;;;;;;;;AASA,UAAM,QAAQ;AAWd,UAAM,SAASA,cAAQ,SAAC,MAAM;AAC7B,YAAM,EAAE,KAAK,QAAQ,KAAI,IAAK,MAAM,SAAS,CAAE;AAC/C,UAAI,QAAQ;AACX,eAAO,OAAO,WAAW,OAAO,IAAI,SAAS,yBAAyB,MAAM;AAAA,MAC5E;AACD,UAAI;AAAK,eAAO;AAChB,UAAI;AAAM,eAAO;AACjB,aAAO;AAAA,IACR,CAAC;AAED,aAAS,UAAU;AAClB,UAAI,CAAC,OAAO;AAAO;AACnBC,oBAAAA,MAAI,aAAa;AAAA,QAChB,SAAS,OAAO;AAAA,QAChB,MAAM,CAAC,OAAO,KAAK;AAAA,MACrB,CAAE;AAAA,IACF;;;;;;;;;;;ACnCA,GAAG,gBAAgB,SAAS;"}