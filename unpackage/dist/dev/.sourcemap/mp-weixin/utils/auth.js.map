{"version":3,"file":"auth.js","sources":["utils/auth.js"],"sourcesContent":["const TOKEN_KEY = 'langbot_token';\nconst USER_ID_KEY = 'langbot_user_id';\n\nexport function getToken() {\n  try {\n    return uni.getStorageSync(TOKEN_KEY) || '';\n  } catch (error) {\n    console.warn('[auth] getToken failed', error);\n    return '';\n  }\n}\n\nexport function setToken(token) {\n  try {\n    if (token) {\n      uni.setStorageSync(TOKEN_KEY, token);\n    } else {\n      uni.removeStorageSync(TOKEN_KEY);\n    }\n  } catch (error) {\n    console.warn('[auth] setToken failed', error);\n  }\n}\n\nexport function clearToken() {\n  setToken('');\n}\n\nexport function getUserId() {\n  try {\n    return uni.getStorageSync(USER_ID_KEY) || '';\n  } catch (error) {\n    console.warn('[auth] getUserId failed', error);\n    return '';\n  }\n}\n\nexport function setUserId(userId) {\n  try {\n    if (userId) {\n      uni.setStorageSync(USER_ID_KEY, userId);\n    } else {\n      uni.removeStorageSync(USER_ID_KEY);\n    }\n  } catch (error) {\n    console.warn('[auth] setUserId failed', error);\n  }\n}\n\n"],"names":["uni"],"mappings":";;AAAA,MAAM,YAAY;AAClB,MAAM,cAAc;AAEb,SAAS,WAAW;AACzB,MAAI;AACF,WAAOA,oBAAI,eAAe,SAAS,KAAK;AAAA,EACzC,SAAQ,OAAO;AACdA,kBAAa,MAAA,MAAA,QAAA,sBAAA,0BAA0B,KAAK;AAC5C,WAAO;AAAA,EACR;AACH;AAEO,SAAS,SAAS,OAAO;AAC9B,MAAI;AACF,QAAI,OAAO;AACTA,oBAAAA,MAAI,eAAe,WAAW,KAAK;AAAA,IACzC,OAAW;AACLA,0BAAI,kBAAkB,SAAS;AAAA,IAChC;AAAA,EACF,SAAQ,OAAO;AACdA,kBAAa,MAAA,MAAA,QAAA,uBAAA,0BAA0B,KAAK;AAAA,EAC7C;AACH;AAMO,SAAS,YAAY;AAC1B,MAAI;AACF,WAAOA,oBAAI,eAAe,WAAW,KAAK;AAAA,EAC3C,SAAQ,OAAO;AACdA,kBAAa,MAAA,MAAA,QAAA,uBAAA,2BAA2B,KAAK;AAC7C,WAAO;AAAA,EACR;AACH;AAEO,SAAS,UAAU,QAAQ;AAChC,MAAI;AACF,QAAI,QAAQ;AACVA,oBAAAA,MAAI,eAAe,aAAa,MAAM;AAAA,IAC5C,OAAW;AACLA,0BAAI,kBAAkB,WAAW;AAAA,IAClC;AAAA,EACF,SAAQ,OAAO;AACdA,kBAAa,MAAA,MAAA,QAAA,uBAAA,2BAA2B,KAAK;AAAA,EAC9C;AACH;;;;;"}