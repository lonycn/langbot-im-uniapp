{"version":3,"file":"uni-im-choose-user.js","sources":["uni_modules/uni-im/components/uni-im-choose-user/uni-im-choose-user.vue","/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/uni_modules/uni-im/components/uni-im-choose-user/uni-im-choose-user.vue?type=component"],"sourcesContent":["<template>\n  <view class=\"user-list\">\n    <text class=\"title\" v-if=\"title\">{{title}}：</text>\n    <view class=\"item\" v-for=\"(user,index) in userList\" :key=\"index\">\n      <uni-im-img class=\"avatar\" width=\"20\" height=\"20\" borderRadius=\"100%\"\n        :src=\"user?.avatar_file?.url || '/uni_modules/uni-im/static/avatarUrl.png'\"></uni-im-img>\n      <text class=\"nickname\">{{user.nickname}}</text>\n      <uni-im-icons class=\"delete\" @click=\"deleteItem(index)\" code=\"e61a\" color=\"#888\" size=\"10px\"></uni-im-icons>\n    </view>\n    <view class=\"add-icon\" v-if=\"multiple || userList.length === 0\">\n      <uni-icons @click=\"showMemberList\" color=\"#aaa\" size=\"16px\" type=\"plusempty\"></uni-icons>\n    </view>\n    <uni-im-member-list ref=\"member-list\" :conversationId=\"conversationId\" :memberListData=\"memberListData\"></uni-im-member-list>\n  </view>\n</template>\n\n<script>\n  import uniIm from '@/uni_modules/uni-im/sdk/index.js';\n  export default {\n    emits: ['update:modelValue'],\n    props: {\n      modelValue: {\n        type: Array,\n        default: []\n      },\n      filterUids: {\n        type: [Array,null],\n        default: null\n      },\n      conversationId: {\n        default: '',\n      },\n      memberListData: {\n        type: [Array,null],\n        default: null\n      },\n      title: {\n        type: [String,null],\n        default: null\n      },\n      multiple: {\n        type: Boolean,\n        default: true\n      }\n    },\n    data() {\n      return {\n        \n      }\n    },\n    computed: {\n      userList() {\n        return uniIm.users.find(this.modelValue)\n      }\n    },\n    methods: {\n      deleteItem(index) {\n        this.$emit('update:modelValue', this.modelValue.filter((_, i) => i !== index))\n      },\n      showMemberList() {\n        this.$refs['member-list'].show({\n          title: '添加话题成员',\n          forceShowSearch: true,\n          filter: member => !(this.filterUids || this.modelValue).includes(member.users._id),\n          confirm: (uid) => {\n            console.log('uid--showMenberList-*', uid)\n            this.$emit('update:modelValue', this.modelValue.concat(uid))\n          }\n        })\n      },\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n.user-list {\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n\n  .title {\n    font-size: 14px;\n    color: #555;\n    font-weight: unset;\n  }\n\n  .item {\n    font-size: 14px;\n    padding: 0 3px;\n    margin-left: 6px;\n    margin-top: 5px;\n    border: 1px solid #eee;\n    border-radius: 5px;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    .avatar {\n      margin-right: 5px;\n    }\n\n    .nickname {\n      color: #333;\n    }\n\n    .delete {\n      margin: 0 5px;\n      opacity: 0.7;\n\n      &:hover {\n        opacity: 1;\n      }\n    }\n\n    height: 26px;\n  }\n  .add-icon {\n    cursor: pointer;\n    border: 1px #aaa dashed;\n    height: 26px;\n    width: 26px;\n    justify-content: center;\n    margin-left: 10px;\n  }\n}\n</style>\n","import Component from '/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/uni_modules/uni-im/components/uni-im-choose-user/uni-im-choose-user.vue'\nwx.createComponent(Component)"],"names":["uniIm","uni"],"mappings":";;;AAkBE,MAAK,YAAU;AAAA,EACb,OAAO,CAAC,mBAAmB;AAAA,EAC3B,OAAO;AAAA,IACL,YAAY;AAAA,MACV,MAAM;AAAA,MACN,SAAS,CAAC;AAAA,IACX;AAAA,IACD,YAAY;AAAA,MACV,MAAM,CAAC,OAAM,IAAI;AAAA,MACjB,SAAS;AAAA,IACV;AAAA,IACD,gBAAgB;AAAA,MACd,SAAS;AAAA,IACV;AAAA,IACD,gBAAgB;AAAA,MACd,MAAM,CAAC,OAAM,IAAI;AAAA,MACjB,SAAS;AAAA,IACV;AAAA,IACD,OAAO;AAAA,MACL,MAAM,CAAC,QAAO,IAAI;AAAA,MAClB,SAAS;AAAA,IACV;AAAA,IACD,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO,CAEP;AAAA,EACD;AAAA,EACD,UAAU;AAAA,IACR,WAAW;AACT,aAAOA,4BAAK,MAAC,MAAM,KAAK,KAAK,UAAU;AAAA,IACzC;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,WAAW,OAAO;AAChB,WAAK,MAAM,qBAAqB,KAAK,WAAW,OAAO,CAAC,GAAG,MAAM,MAAM,KAAK,CAAC;AAAA,IAC9E;AAAA,IACD,iBAAiB;AACf,WAAK,MAAM,aAAa,EAAE,KAAK;AAAA,QAC7B,OAAO;AAAA,QACP,iBAAiB;AAAA,QACjB,QAAQ,YAAU,EAAE,KAAK,cAAc,KAAK,YAAY,SAAS,OAAO,MAAM,GAAG;AAAA,QACjF,SAAS,CAAC,QAAQ;AAChBC,wBAAAA,oGAAY,yBAAyB,GAAG;AACxC,eAAK,MAAM,qBAAqB,KAAK,WAAW,OAAO,GAAG,CAAC;AAAA,QAC7D;AAAA,OACD;AAAA,IACF;AAAA,EACH;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtEF,GAAG,gBAAgB,SAAS;"}