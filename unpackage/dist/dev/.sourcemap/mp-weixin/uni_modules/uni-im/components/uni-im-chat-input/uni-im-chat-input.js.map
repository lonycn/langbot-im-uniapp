{"version":3,"file":"uni-im-chat-input.js","sources":["uni_modules/uni-im/components/uni-im-chat-input/uni-im-chat-input.vue","/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/uni_modules/uni-im/components/uni-im-chat-input/uni-im-chat-input.vue?type=component"],"sourcesContent":["<template>\n  <view class=\"uni-im-chat-input\" :style=\"{height:chatInputBoxHeight}\">\n    <view id=\"drag-line\"></view>\n    <view class=\"top-menu\">\n      <uni-im-icons v-for=\"(item,index) in menuList\" :key=\"index\" class=\"item\"\n        @click.native.stop=\"clickMenu(index,$event)\"\n        :title.native=\"`选择${item.title}，并发送`\"\n        :code=\"item.iconCode\" size=\"24\" color=\"#666666\" \n      ></uni-im-icons>\n      <!-- #ifdef H5 -->\n      <view v-for=\"(item,index) in extToolBar\" :key=\"index\" class=\"item\">\n        <component :is=\"item.component\" v-bind=\"item.props\" @sendCodeMsg=\"sendCodeMsg\" \n          @showMenberList=\"showMenberList\"\n        ></component>\n      </view>\n      <!-- #endif -->\n    </view>\n    <view class=\"main\">\n      <!-- 切换为语音模式 -->\n      <!-- #ifdef H5 -->\n      <!-- <view class=\"camera-filled-box icon\" @click=\"chooseFileSendMsg('image')\">\n        <uni-icons type=\"camera-filled\" size=\"20px\" color=\"#FFF\"></uni-icons>\n      </view> -->\n      <!-- #endif -->\n      \n      <uni-im-icons @click=\"changeMode('sound')\" :code=\"soundIsShow?'e69f':'e684'\" size=\"30\" class=\"icon\"></uni-im-icons>\n      \n      <view class=\"editor-box-parent\">\n        <view class=\"editor-box\">\n          <uni-im-sound v-show=\"soundIsShow\" @sendSoundMsg=\"sendSoundMsg\" class=\"uni-im-sound\"></uni-im-sound>\n          <uni-im-editor @click=\"clickEditor\" @touchmove.stop v-show=\"!soundIsShow\" @input=\"oninput\" @confirm=\"confirm\" @change=\"updateModelValue\" class=\"editor\" ref=\"editor\" :hideKeyboard=\"emojiIsShow\"></uni-im-editor>\n        </view>\n        <slot name=\"about-msg\"></slot>\n      </view>\n      <uni-im-icons @click=\"changeMode('emoji')\" :code=\"emojiIsShow?'e69f':'e646'\" size=\"30\" class=\"icon\"></uni-im-icons>\n      <text v-if=\"!soundIsShow&&canSend\" @click=\"confirm\" class=\"icon confirm\">发送</text>\n      <uni-im-icons v-else @click=\"changeMode('menu')\" code=\"e75a\" size=\"30\" class=\"icon\"></uni-im-icons>\n    </view>\n    <view v-if=\"showMediaBox\" class=\"media-box\" :style=\"{height:keyboardMaxHeight - bHeight +'px'}\">\n      <view v-if=\"mode == 'menu'\" class=\"menu\">\n        <view class=\"menu-item\" v-for=\"(item,index) in menuList\" :key=\"index\" @click.stop=\"clickMenu(index,$event)\">\n          <view class=\"menu-item-icon\">\n            <uni-im-icons :code=\"item.iconCode\" size=\"26\"></uni-im-icons>\n          </view>\n          <text class=\"menu-item-text\">{{item.title}}</text>\n        </view>\n      </view>\n      <scroll-view v-if=\"emojiIsShow\" :scroll-y=\"true\" class=\"emoji-list-box\">\n        <text v-for=\"(uniCodeEmoji,index) in emojiCodes\" :key=\"index\"\n          @click.stop=\"clickEmojiItem(uniCodeEmoji,$event)\" class=\"item\">{{uniCodeEmoji}}</text>\n      </scroll-view>\n    </view>\n    <!-- #ifndef H5 -->\n    <!-- 调整输入框的位置，占位专用：键盘高度 或 全面屏底部不可用区域高度 -->\n    <view v-else-if=\"raiseEditor || keyboardHeight\" :style=\"{height: keyboardMaxHeight - bHeight + 'px'}\"></view>\n    <view :style=\"{height: bHeight + 'px'}\"></view>\n    <!-- #endif -->\n    \n    <view class=\"send-msg-btn-box\">\n      <text class=\"send-btn-tip\">↵ 发送 / shift + ↵ 换行</text>\n      <button @click=\"confirm\" :disabled=\"!canSend\" class=\"send\" type=\"primary\">发送</button>\n    </view>\n  </view>\n</template>\n\n<script>\n  import uniIm from '@/uni_modules/uni-im/sdk/index.js';\n  import {markRaw} from \"vue\";\n  import emojiCodes from './emojiCodes.js';\n  let currentModelValue = '';\n  export default {\n    name: 'uni-im-chat-input',\n    emits: [\"update:modelValue\",\"confirm\",\"input\",\"sendSoundMsg\",\"sendCodeMsg\",\"showMenberList\"],\n    data() {\n      return {\n        bHeight:uniIm.systemInfo.safeAreaInsets.bottom/2,\n        raiseEditor: false,\n        mode: false,\n        menuIsShow: false,\n        menuList: [{\n            \"title\": \"图片\",\n            \"iconCode\": \"e7be\"\n          },\n          {\n            \"title\": \"视频\",\n            \"iconCode\": \"e690\"\n          },\n          {\n            \"title\": \"文件\",\n            \"iconCode\": \"e69e\"\n          }\n        ],\n        emojiCodes,\n        chatInputBoxHeight:'auto',\n      }\n    },\n    computed: {\n\t\t\tshowMediaBox() {\n\t\t\t\treturn this.mode && this.mode != 'sound' \n\t\t\t\t// #ifdef H5\n\t\t\t\t&& this.mode != 'input'\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\temojiIsShow() {\n\t\t\t\treturn this.mode == 'emoji';\n\t\t\t},\n\t\t\tsoundIsShow: {\n\t\t\t\tget() {\n\t\t\t\t\treturn this.mode == 'sound';\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\tthis.mode = value ? 'sound' : false;\n\t\t\t\t}\n\t\t\t},\n      canSend() {\n        return typeof this.modelValue != \"string\" || this.modelValue.trim().length > 0;\n      },\n      // #ifdef H5\n      extToolBar(){\n        // 调用扩展点，扩展程序可以在消息输入框新增一个工具类的项\n        const currentConversationId = uniIm.currentConversationId\n        if (currentConversationId) {\n          return uniIm.extensions\n            .invokeExts(\"input-msg-tool-bar\",uniIm.conversation.find(currentConversationId))\n            .filter((result) => result && result.component)\n            .map((result) => {\n              return {\n                component: markRaw(result.component),\n                props: result.props||{}\n              };\n            });\n        }else{\n          return []\n        }\n      }\n      // #endif\n    },\n    props: {\n      modelValue: {\n        type: [String, Object],\n        default: \"\"\n      },\n      keyboardMaxHeight: {\n        type: Number,\n        default: 0\n      },\n      keyboardHeight: {\n        type: Number,\n        default: 0\n      },\n\t\t\thideKeyboard: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t}\n    },\n    mounted() {\n\t\t\t// #ifdef APP\n\t\t\t// 解决：点击输入框上的完成按钮，键盘收起，但是输入框不收起的问题\n\t\t\tuni.onKeyboardHeightChange(e=>{\n\t\t\t\tif(e.height === 0 && this.mode === 'input'){\n\t\t\t\t\tconsole.log('uni.onKeyboardHeightChange', e,this.mode);\n\t\t\t\t\tthis.retract()\n\t\t\t\t}\n\t\t\t})\n\t\t\t// #endif\n\t\t\t\n      currentModelValue = this.modelValue;\n      // #ifdef H5\n      // pc宽屏支持拖动改变输入框高度\n      if(uniIm.isWidescreen){\n        this.chatInputBoxHeight = uni.getStorageSync('uni-im-data:chatInputBoxHeight') || '300px';\n        // 拖动uni-im-chat-input的顶部，改变高度\n        let startY,startHeight,isMove = false;\n        const dragLine = document.querySelector('#drag-line');\n        dragLine.addEventListener('mousedown', (e) => {\n          startY = e.clientY;\n          startHeight = parseInt(this.chatInputBoxHeight);\n          isMove = true;\n        });\n        document.addEventListener('mousemove', (e) => {\n          if (isMove) {\n            const moveY = startY - e.clientY;\n            const height = startHeight + moveY;\n            if(height > 800){\n              // 改变鼠标样式，为向下箭头\n              document.body.style.cursor = 's-resize';\n            }else if(height < 200){\n              // 改变鼠标样式，为向上箭头\n              document.body.style.cursor = 'n-resize';\n            }else{\n              this.chatInputBoxHeight = height + 'px';\n            }\n          }\n        });\n        document.addEventListener('mouseup', () => {\n          if(isMove){\n            document.body.style.cursor = '';\n            isMove = false;\n            uni.setStorageSync('uni-im-data:chatInputBoxHeight',this.chatInputBoxHeight)\n          }\n        });\n      }\n      // #endif\n    },\n    watch: {\n      modelValue:{\n        handler(modelValue,oldValue) {\n          // console.log('###modelValue', modelValue,JSON.stringify(currentModelValue) != JSON.stringify(modelValue) );\n          if(JSON.stringify(currentModelValue) != JSON.stringify(modelValue) ) {\n            const {html} = modelValue\n            this.setContent(html?{html}:modelValue)\n          }\n        },\n        deep: true,\n        immediate: true\n      }\n    },\n    methods: {\n\t\t\tclickEditor() {\n\t\t\t\tif(this.mode != 'input'){\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\tif(this.mode == 'emoji'){\n\t\t\t\t\t\tthis.changeMode('input');\n\t\t\t\t\t\t// 滚动到底部。todo：当前场景$nextTick和setTimeout均无效\n\t\t\t\t\t\tsetTimeout(()=>window.scrollTo(0,document.body.scrollHeight),50)\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t// #endif\n\t\t\t\t\tthis.changeMode('input');\n\t\t\t\t}\n\t\t\t},\n      sendSoundMsg(e) {\n        this.$emit('sendSoundMsg',e)\n      },\n      sendCodeMsg(e) {\n        this.$emit('sendCodeMsg',e)\n      },\n      showMenberList(e) {\n        this.$emit('showMenberList',e)\n      },\n      oninput(e) {\n        currentModelValue = e.value;\n        this.$emit('update:modelValue', e.value)\n        this.$emit('input',e)\n      },\n      updateModelValue({value}) {\n        this.$emit('update:modelValue', value)\n      },\n      focus() {\n        // console.log('focus');\n        this.$refs.editor.callRmd('$focus')\n      },\n      async addCallUser({user_id, nickname},needDeleteLeftART = true,DL=0) {\n        // 隐藏发送语音消息模式\n        this.soundIsShow = false;\n        \n        this.raiseEditor = true;\n        setTimeout(()=>this.raiseEditor = false,2000)\n        \n        if(needDeleteLeftART){\n          // console.error('needDeleteLeftART');\n          // DL 是需要删除的个数，因为web-pc端用户可以输入关键词筛选用户导致多出字符\n          this.$refs.editor.callRmd('$deleteLeftChar', 1+DL)\n        }else{\n          // console.error('no needDeleteLeftART');\n          await uniIm.utils.sleep(100)\n          this.$refs.editor.callRmd('$focus')\n        }\n        await uniIm.utils.sleep(10)\n        \n        // 提醒末尾的此空格在margin-right: -3px;内，用于解决办法浏览器非文本节点后的光标定位不正确的问题\n        const html =`<span class=\"nickname\" contenteditable=\"false\" user_id=\"${user_id}\">@${nickname}</span>&nbsp;`\n        this.addHtmlToCursor(html)\n        // setTimeout(()=>this.$refs.editor.callRmd('$restoreCursor'),500)\n      },\n\t\t\tretract(){\n\t\t\t\tif(![false, 'sound'].includes(this.mode)){\n\t\t\t\t\tthis.mode = false\n\t\t\t\t}\n\t\t\t},\n      changeMode(type) {\n\t\t\t\t// console.log('changeMode', type,this.mode);\n\t\t\t\tthis.mode = this.mode === type ? 'input' : type;\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tif (this.mode === 'input') {\n\t\t\t\t\t// 获取焦点\n\t\t\t\t\tthis.$refs.editor.focus()\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t// #ifndef MP-WEIXIN\n\t\t\t\tconst needRC = ['input']\n\t\t\t\t// #ifdef APP\n\t\t\t\tif(uniIm.systemInfo.platform != 'ios'){\n\t\t\t\t\tneedRC.push('emoji')\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\tif (needRC.includes(this.mode)) {\n\t\t\t\t\t// 获取焦点\n\t\t\t\t\tthis.$refs.editor.callRmd('$restoreCursor')\n\t\t\t\t}\n\t\t\t\t// #endif\n      },\n      clickEmojiItem(uniCodeEmoji, event) {\n        // console.log('clickEmojiItem', uniCodeEmoji, event);\n        this.addHtmlToCursor(uniCodeEmoji,false)\n      },\n      addHtmlToCursor(html,focus=true) {\n        this.$refs.editor.callRmd('$addHtmlToCursor',html,focus)\n      },\n      setContent(content) {\n        // console.log('setContent', content);\n        this.$refs.editor.callRmd('$setContent',content)\n        // this.$emit('update:modelValue', content)\n      },\n      clickMenu(index, event) {\n        console.log('clickMenu', index, event);\n        let parrent = this.$parent\n        // #ifdef H5\n        parrent = this.$parent.$parent.$parent\n        // #endif\n        \n        if (index < 2) {\n          parrent.chooseFileSendMsg(index === 0 ? 'image' : 'video')\n        }\n        if (index === 2) {\n          // #ifdef APP\n          return uni.showToast({\n            title: '暂不支持，发送文件',\n            icon: 'none'\n          });\n          // #endif\n          parrent.chooseFileSendMsg('all')\n        }\n      },\n      confirm() {\n        console.log('confirm');\n        this.$emit('confirm');\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n.uni-im-chat-input {\n  padding:0 5px;\n  border-top: 1px solid #f5f5f5;\n  & > view {\n    // justify-content: center;\n    // align-items: center;\n    // align-content: center;\n  }\n  .top-menu,.send-msg-btn-box{\n    // 默认隐藏 pc端才显示\n    display: none;\n  }\n  .main {\n    flex: 1;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-end;\n    overflow: hidden;\n    .icon {\n      margin:0 5px;\n      margin-bottom: 20px;\n      width: 30px;\n      height: 30px;\n      align-content: center;\n      flex-shrink: 0;\n      &.confirm {\n        width: auto;\n        color: #fff;\n        font-size: .75rem;\n        border-radius: 6px;\n        background-color: #2faf4c;\n        height: 28px;\n        line-height: 28px;\n        padding: 0 8px;\n        text-align: center;\n      }\n    }\n    .camera-filled-box {\n      background-color: #3b81fd;\n      justify-content: center;\n      width: 26px;\n      height: 26px;\n      border-radius: 100px;\n    }\n    .editor-box-parent{\n      flex: 1;\n      height: 100%;\n      overflow: hidden;\n      .editor-box {\n        position: relative;\n        overflow: hidden;\n        flex: 1;\n        margin:10px 5px;\n        padding: 10px 8px;\n        background-color: #FFF;\n        min-height: 46px;\n        &,.editor {\n          border-radius: 10px;\n        }\n        .editor {\n          // flex: 1;\n        }\n        .uni-im-sound {\n          position: absolute;\n          top: 0;\n          left: 0;\n          height: 100%;\n          width: 100%;\n          z-index: 10;\n        }\n      }\n    }\n  }\n  .media-box {\n    .menu {\n      flex-direction: row;\n      justify-content: self-start;\n      align-items: self-start;\n      padding: 10px 0;\n      // height: 100%;\n      .menu-item {\n        margin: 15px;\n        width: 60px;\n        height: 60px;\n        justify-content: center;\n        align-items: center;\n        .menu-item-icon {\n          width: 40px;\n          height: 40px;\n          justify-content: center;\n          align-items: center;\n          background-color: #FFF;\n          padding: 8px;\n          border-radius: 10px;\n          margin-bottom: 5px;\n        }\n        .menu-item-text {\n          font-size: 12px;\n          color: #666666;\n        }\n      }\n    }\n    .emoji-list-box {\n      height: 100%;\n      padding: 15rpx;\n      flex-direction: row;\n      flex-wrap: wrap;\n      justify-content: space-between;\n      .item {\n        text-align: center;\n        font-size: 65rpx;\n        width: 87rpx;\n        height: 87rpx;\n        justify-content: center;\n        align-items: center;\n        display: inline-block;\n      }\n    }\n  }\n}\n\n\n/* #ifdef H5 */\n@media screen and (min-device-width:560px){\n  .uni-im-chat-input {\n    position: relative;\n    flex-direction: column;\n    #drag-line {\n      // 鼠标变上下拖动的光标\n      cursor: row-resize;\n      height: 5px;\n      position: absolute;\n      left: 0;\n      top: -3px;\n      width: 100%;\n      z-index: 1;\n    }\n    .main {\n      .icon {\n        display: none;\n      }\n      .editor-box-parent {\n        flex-direction: column-reverse;\n      }\n      .editor-box {\n        height: 200px;\n        padding: 0;\n        background-color: transparent !important;\n        & ::v-deep {\n          .uni-im-editor-box {\n            height: 100%;\n          }\n          .uni-im-editor{\n            height: 100%;\n            max-height: 100%;\n          }\n        }\n      }\n    }\n    \n    .top-menu {\n      display: flex;\n      height: 45px;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: center;\n      background-color: #f5f5f5;\n      .item {\n        margin:0 20px 0 10px;\n      }\n    }\n    .send-msg-btn-box {\n      display: flex;\n      flex-direction: row;\n      height: 45px;\n      justify-content: flex-end;\n      align-items: center;\n      padding:0 5px;\n      .send-btn-tip {\n        font-size: 12px;\n        color: #666666;\n      }\n      .send {\n        font-size: 12px;\n        margin:0 10px;\n        color: #fff;\n      }\n    }\n  }\n  \n}\n/* #endif */\n</style>","import Component from '/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/uni_modules/uni-im/components/uni-im-chat-input/uni-im-chat-input.vue'\nwx.createComponent(Component)"],"names":["uniIm","emojiCodes","uni"],"mappings":"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"}