{"version":3,"file":"index.js","sources":["uni_modules/uni-im/sdk/ext/index.js"],"sourcesContent":["import $state from '@/uni_modules/uni-im/sdk/state/index.js';\nimport {mutations as uniIdMutations} from '@/uni_modules/uni-id-pages/common/store.js';\nexport default {\n  toChat(param) {\n    if ($state.isWidescreen) {\n      uni.$emit('uni-im-toChat', param)\n    } else {\n      let url = '/uni_modules/uni-im/pages/chat/chat?'\n      for (let key in param) {\n        let value = param[key]\n        if (typeof value === 'object') {\n          value = decodeURIComponent(JSON.stringify(value))\n        }\n        url += key + '=' + value + '&'\n      }\n      uni.navigateTo({url,animationDuration: 300})\n    }\n  },\n\tasync login(param) {\n\t\tconst uniImCo = uniCloud.importObject(\"uni-im-co\")\n\t\tconst res = await uniImCo.login(param)\n\t\tif (res.errCode) {\n\t\t\treturn uni.showModal({\n\t\t\t\tcontent: JSON.stringify(res),\n\t\t\t\tshowCancel: false\n\t\t\t});\n\t\t}\n\t\tuniIdMutations.loginSuccess({\n\t\t\tautoBack: false,\n\t\t\tshowToast: false\n\t\t})\n\t\treturn res\n\t},\n\tasync logout() {\n\t\tawait uniIdMutations.logout()\n\t}\n}"],"names":["$state","uni","uniCloud","uniIdMutations"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAEA,MAAe,MAAA;AAAA,EACb,OAAO,OAAO;AACZ,QAAIA,kCAAAA,MAAO,cAAc;AACvBC,0BAAI,MAAM,iBAAiB,KAAK;AAAA,IACtC,OAAW;AACL,UAAI,MAAM;AACV,eAAS,OAAO,OAAO;AACrB,YAAI,QAAQ,MAAM,GAAG;AACrB,YAAI,OAAO,UAAU,UAAU;AAC7B,kBAAQ,mBAAmB,KAAK,UAAU,KAAK,CAAC;AAAA,QACjD;AACD,eAAO,MAAM,MAAM,QAAQ;AAAA,MAC5B;AACDA,oBAAAA,MAAI,WAAW,EAAC,KAAI,mBAAmB,IAAG,CAAC;AAAA,IAC5C;AAAA,EACF;AAAA,EACI,MAAM,OAAO;AAAA;AAClB,YAAM,UAAUC,cAAAA,GAAS,aAAa,WAAW;AACjD,YAAM,MAAM,MAAM,QAAQ,MAAM,KAAK;AACrC,UAAI,IAAI,SAAS;AAChB,eAAOD,cAAAA,MAAI,UAAU;AAAA,UACpB,SAAS,KAAK,UAAU,GAAG;AAAA,UAC3B,YAAY;AAAA,QAChB,CAAI;AAAA,MACD;AACDE,0CAAAA,UAAe,aAAa;AAAA,QAC3B,UAAU;AAAA,QACV,WAAW;AAAA,MACd,CAAG;AACD,aAAO;AAAA,IACP;AAAA;AAAA,EACK,SAAS;AAAA;AACd,YAAMA,oCAAAA,UAAe,OAAQ;AAAA,IAC7B;AAAA;AACF;;"}