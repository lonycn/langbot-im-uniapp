{"version":3,"file":"qrCode.js","sources":["uni_modules/uni-im/pages/group/qrCode.vue","uni_modules/uni-im/pages/group/qrCode.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"group-QRCode\">\n\t\t<view class=\"qr-code\">\n\t\t\t<view class=\"code-info\">\n\t\t\t\t<text class=\"group-name\">{{group.name}}</text>\n\t\t\t\t<!-- <text class=\"group-id\" @click=\"copyGroupID\">群号：{{group.id_axxx}}</text> -->\n\t\t\t\t<!--uqrcode 组件来源，插件Sansnn-uQRCode 链接地址：https://ext.dcloud.net.cn/plugin?id=1287 -->\n\t\t\t\t<!-- #ifndef MP-WEIXIN -->\n\t\t\t\t<uqrcode @click=\"copyUrl\" ref=\"uqrcode\" :start=\"false\" :size=\"200\" canvas-id=\"qrcode\" :value=\"joinGroupUrl\"></uqrcode>\n\t\t\t\t<!-- #endif -->\n        <text class=\"tip\">点击二维码复制链接</text>\n\t\t\t</view>\n\t\t\t<uni-im-img class=\"group-avatar\" :src=\"group?.avatar_file?.url || '/uni_modules/uni-im/static/avatarUrl.png'\" \n        mode=\"\"\n        width=\"100px\"\n        height=\"100px\"\n      ></uni-im-img>\n\t\t</view>\n\n\t\t<!-- <view class=\"btn-box\">\n\t\t\t<view class=\"btn-item\" @click=\"save\">\n\t\t\t\t<uni-icons type=\"arrow-down\" size=\"30\"></uni-icons>\n\t\t\t\t<text class=\"btn-text\">保存</text>\n\t\t\t</view>\n\t\t\t<view class=\"btn-item\" @click=\"share\">\n\t\t\t\t<uni-icons type=\"paperplane\" size=\"30\"></uni-icons>\n\t\t\t\t<text class=\"btn-text\">分享</text>\n\t\t\t</view>\n\t\t</view> -->\n\t</view>\n</template>\n\n<script>\n  import uniIm from '@/uni_modules/uni-im/sdk/index.js';\n\timport uqrcode from \"@/uni_modules/Sansnn-uQRCode/components/uqrcode/uqrcode\"\n  import config from '@/uni_modules/uni-im/common/config.js';\n\texport default {\n\t\tcomponents: {\n\t\t\tuqrcode\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n        group: {}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tjoinGroupUrl() {\n\t\t\t\treturn config.domain + \"/#/?joinGroup=\" + this.group._id\n\t\t\t}\n\t\t},\n\t\tonLoad(param) {\n\t\t\tthis.load(param)\n\t\t},\n\t\tmethods: {\n      async load({conversation_id}){\n        console.log(\"conversation_id: \",conversation_id);\n        const conversation = await uniIm.conversation.get(conversation_id)\n        this.group = conversation.group\n        this.$refs.uqrcode.make({\n        \tsuccess: () => {\n        \t\t// console.log('生成成功');\n        \t},\n        \tfail: err => {\n        \t\tconsole.log(err)\n        \t}\n        });\n      },\n      copyUrl() {\n        uni.setClipboardData({\n          data: this.joinGroupUrl,\n          success: function() {\n            console.log('success');\n          }\n        });\n      },\n\t\t\tcopyGroupID() {\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: this.group_id,\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\tconsole.log('success');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tsave() {\n\t\t\t\tconsole.log('保存');\n\t\t\t},\n\t\t\tshare() {\n\t\t\t\tconsole.log('分享');\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n@import \"@/uni_modules/uni-im/common/baseStyle.scss\";\n.group-QRCode {\n  height: 100vh;\n  padding-top: 200rpx;\n  // justify-content: center;\n  align-items: center;\n  background-color: #f5f5f5;\n  .qr-code {\n    width: 550rpx;\n    height: 780rpx;\n    align-items: center;\n    justify-content: center;\n    border-radius: 20rpx;\n    background-color: #fff;\n    position: relative;\n  }\n  \n  .code-info {\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .group-avatar {\n    width: 100px;\n    height: 100px;\n    border-radius: 100rpx;\n    position: absolute;\n    top: -70rpx;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  }\n  \n  .tip {\n    font-size: 24rpx;\n    color: #999;\n    margin-top: 20rpx;\n  }\n  \n  .group-name {\n    width: 400rpx;\n    font-size: 16px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-top: 40px;\n    margin-bottom: 10px;\n    text-align: center;\n  }\n  \n  .group-id {\n    margin: 40rpx 0;\n    font-size: 30rpx;\n  }\n  \n  .btn-box {\n    flex-direction: row;\n    margin-top: 100rpx;\n  }\n  \n  .btn-item {\n    align-items: center;\n    justify-content: center;\n    width: 130rpx;\n    height: 130rpx;\n    border-radius: 100rpx;\n    background-color: #fff;\n    margin: 0 80rpx;\n    border: 1px solid #eee;\n  }\n  \n  .btn-text {\n    font-size: 28rpx;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/orange/aicode/langbot/web_client/langbot-im-uniapp/uni_modules/uni-im/pages/group/qrCode.vue'\nwx.createPage(MiniProgramPage)"],"names":["config","uni","uniIm"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAkCC,gBAAgB,MAAW;AAE3B,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,IACX;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACF,OAAO,CAAC;AAAA,IACb;AAAA,EACA;AAAA,EACD,UAAU;AAAA,IACT,eAAe;AACd,aAAOA,gCAAM,OAAC,SAAS,mBAAmB,KAAK,MAAM;AAAA,IACtD;AAAA,EACA;AAAA,EACD,OAAO,OAAO;AACb,SAAK,KAAK,KAAK;AAAA,EACf;AAAA,EACD,SAAS;AAAA,IACC,KAAK,IAAkB;AAAA,iDAAlB,EAAC,gBAAe,GAAE;AAC3BC,4FAAY,qBAAoB,eAAe;AAC/C,cAAM,eAAe,MAAMC,4BAAAA,MAAM,aAAa,IAAI,eAAe;AACjE,aAAK,QAAQ,aAAa;AAC1B,aAAK,MAAM,QAAQ,KAAK;AAAA,UACvB,SAAS,MAAM;AAAA,UAEd;AAAA,UACD,MAAM,SAAO;AACZD,0BAAAA,MAAA,MAAA,OAAA,mDAAY,GAAG;AAAA,UAChB;AAAA,QACD,CAAC;AAAA,MACF;AAAA;AAAA,IACD,UAAU;AACRA,oBAAAA,MAAI,iBAAiB;AAAA,QACnB,MAAM,KAAK;AAAA,QACX,SAAS,WAAW;AAClBA,wBAAAA,sEAAY,SAAS;AAAA,QACvB;AAAA,MACF,CAAC;AAAA,IACF;AAAA,IACJ,cAAc;AACbA,oBAAAA,MAAI,iBAAiB;AAAA,QACpB,MAAM,KAAK;AAAA,QACX,SAAS,WAAW;AACnBA,wBAAAA,sEAAY,SAAS;AAAA,QACtB;AAAA,MACD,CAAC;AAAA,IACD;AAAA,IACD,OAAO;AACNA,oBAAAA,MAAA,MAAA,OAAA,mDAAY,IAAI;AAAA,IAChB;AAAA,IACD,QAAQ;AACPA,oBAAAA,MAAA,MAAA,OAAA,mDAAY,IAAI;AAAA,IACjB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;ACzFD,GAAG,WAAW,eAAe;"}